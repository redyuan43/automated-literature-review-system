IEEE Guide for Control Architecture for High Power Electronics (1 MW and Greater) Used in Electric Power Transmission and Distribution Systems

IEEE Power & Energy Society

Sponsored by the

Substations Committee

IEEE

3 Park Avenue

New York, NY 10016-5997

USA

11 February 2011

Authorized licensed use limited to: University of Durham. Downloaded on November 11,2024 at 12:20:56 UTC from IEEE Xplore. Restrictions apply.

IEEE Guide for Control Architecture for High Power Electronics (1 MW and Greater) Used in Electric Power Transmission and Distribution Systems

Sponsor

**Substations Committee**

of the

**IEEE Power & Energy Society**

Approved 9 December 2010

**IEEE-SA Standards Board**

Approved 8 August 2011

**American National Standards Institute**

**Abstract: Control architecture for high-power electronics from power semiconductor device levels to the power system level is defined and characterized. Coverage includes the application of power electronics in the areas of Power Quality/Custom Power, Flexible AC Transmission Systems (FACTS), High Voltage DC Transmission (HVDC), Distributed Generation, Energy Storage applications, etc. with a power range from hundreds of kW to thousands of MW, but with emphasis on the 1 MW to hundreds of MW. Keywords: ac-dc converter, control and protection, control architecture, custom power, DVR, FACTS, HVDC, IEEE 1676, MVA, power electronics, Power Electronics Building Block (PEBB), SSTS, STATCOM**

The Institute of Electrical and Electronics Engineers, Inc.

3 Park Avenue, New York, NY 10016-5997, USA

Copyright (c) 2011 by the Institute of Electrical and Electronics Engineers, Inc.

All rights reserved. Published 11 February 2011. Printed in the United States of America.

IEEE is a registered trademark in the U.S. Patent & Trademark Office, owned by the Institute of Electrical and Electronics Engineers, Incorporated.

**PDF: 1SSB 978-0-7381-6507-3 STD97056**

**Print: 1SSB 978-0-7381-6508-0 STD97056**

_IEEE prohibus discrimination, harassment and bulbing. For more information, visit [http://www.ieee.org/web/abouts/whats/publicies/p-26.html](http://www.ieee.org/web/abouts/whats/publicies/p-26.html). No part of this publication may be reproduced in any form, in an electronic retrieval system or otherwise, without the prior written permission of the publisher._

**IEEE Standards** documents are developed within the IEEE Societies and the Standards Coordinating Committees of the IEEE Standards Association (IEEE-SA) Standards Board. The IEEE develops its standards through a consensus development process, approved by the American National Standards Institute, which brings together volunteers representing varied viewpoints and interests to achieve the final product. Volunteers are not necessarily members of the Institute and serve without compensation. While the IEEE administers the process and establishes rules to promote fairness in the consensus development process, the IEEE does not independently evaluate, test, or verify the accuracy of any of the information or the soundness of any judgments contained in its standards.

Use of an IEEE Standard is wholly voluntary. The IEEE disclaims liability for any personal injury, property or other damage, of any nature whatsoever, whether special, indirect, consequential, or compensatory, directly or indirectly resulting from the publication, use of, or reliance upon this, or any other IEEE Standard document.

The IEEE does not warrant or represent the accuracy or content of the material contained herein, and expressly disclaims any express or implied warranty, including any implied warranty of merchantability or fitness for a specific purpose, or that the use of the material contained herein is free from patent infringement. IEEE Standards documents are supplied "**AS IS**."

The existence of an IEEE Standard does not imply that there are no other ways to produce, test, measure, purchase, market, or provide other goods and services related to the scope of the IEEE Standard. Furthermore, the viewpoint expressed at the time a standard is approved and issued is subject to change brought about through developments in the state of the art and comments received from users of the standard. Every IEEE Standard is subjected to review at least every five years for revision or reaffirmation, or every ten years for stabilization. When a document is more than five years old and has not been reaffirmed, or more than ten years old and has not been stabilized, it is reasonable to conclude that its contents, although still of some value, do not wholly reflect the present state of the art. Users are cautioned to check to determine that they have the latest edition of any IEEE Standard.

In publishing and making this document available, the IEEE is not suggesting or rendering professional or other services for, or on behalf of, any person or entity. Nor is the IEEE undertaking to perform any duty owed by any other person or entity to another. Any person utilizing this, and any other IEEE Standards document, should rely upon his or her independent judgment in the exercise of reasonable care in any given circumstances or, as appropriate, seek the advice of a competent professional in determining the appropriateness of a given IEEE standard.

Interpretations: Occasionally questions may arise regarding the meaning of portions of standards as they relate to specific applications. When the need for interpretations is brought to the attention of IEEE, the Institute will initiate action to prepare appropriate responses. Since IEEE Standards represent a consensus of concerned interests, it is important to ensure that any interpretation has also received the concurrence of a balance of interests. For this reason, IEEE and the members of its societies and Standards Coordinating Committees are not able to provide an instant response to interpretation requests except in those cases where the matter has previously received formal consideration. A statement, written or oral, that is not processed in accordance with the IEEE-SA Standards Board Operations Manual shall not be considered the official position of IEEE or any of its committees and shall not be considered to be, nor be relied upon as, a formal interpretation of the IEEE. At lectures, symposia, seminars, or educational courses, an individual presenting information on IEEE standards shall make it clear that his or her views should be considered the personal views of that individual rather than the formal position, explanation, or interpretation of the IEEE.

Comments for revision of IEEE Standards are welcome from any interested party, regardless of membership affiliation with IEEE. Suggestions for changes in documents should be in the form of a proposed change of text, together with appropriate supporting comments. Recommendations to change the status of a stabilized standard should include a rationale as to why a revision or withdrawal is required. Comments and recommendations on standards, and requests for interpretations should be addressed to:

Secretary, IEEE-SA Standards Board

445 Hoes Lane

Piscataway, NJ 08854

USA

Authorization to photocopy portions of any individual standard for internal or personal use is granted by The Institute of Electrical and Electronics Engineers, Inc., provided that the appropriate fee is paid to Copyright Clearance Center. To arrange for payment of licensing fee, please contact Copyright Clearance Center, Customer Service, 222 Rosewood Drive, Danvers, MA 01923 USA; +1 978 750 8400. Permission to photocopy portions of any individual standard for educational classroom use can also be obtained through the Copyright Clearance Center.

## Introduction

[lines=1pt,leftmargin=*] This introduction is not part of IEEE Std 1676-2010, IEEE Guide for Control Architecture for High Power Electronics (1 MW and Greater) Used in Electric Power Transmission and Distribution Systems.

A significant degree of common functionality is observed in the control functions of many power electronic systems irrespective of the target application. Using the concept of system levels (or layers), this document defines hierarchical control architecture for these systems. Such definitions enable the use of common designs for multiple applications and the use of commercial electronics and communications modules to increase the cost effectiveness of power electronics applications.

The purpose of this guide is to define hierarchical control architecture, define various parameters/functions that need to be handled within each layer, and those that need to be communicated between the layers and their required speed range. When the control functions of many different power electronic systems are investigated and evaluated, a significant degree of common functionality emerges, irrespective of the target application. Using the concept of system layers, it is possible to define a hierarchical control architecture for high-power electronics-based systems. The intent of this document is to provide a framework and guideline specifically for the control system in order to allow multiple vendors to design and manufacture components, subassemblies, and software that can be used in a large variety of power electronic products or systems. This guideline will also serve as a foundation for interchangeability among different manufacturers at the layer level with defined interfaces.

## Notice to users

### Laws and regulations

Users of these documents should consult all applicable laws and regulations. Compliance with the provisions of this standard does not imply compliance to any applicable regulatory requirements. Implementers of the standard are responsible for observing or referring to the applicable regulatory requirements. IEEE does not, by the publication of its standards, intend to urge action that is not in compliance with applicable laws, and these documents may not be construed as doing so.

## Copyrights

This document is copyrighted by the IEEE. It is made available for a wide variety of both public and private uses. These include both use, by reference, in laws and regulations, and use in private self-regulation, standardization, and the promotion of engineering practices and methods. By making this document available for use and adoption by public authorities and private users, the IEEE does not waive any rights in copyright to this document.

## Updating of IEEE documents

Users of IEEE standards should be aware that these documents may be superseded at any time by the issuance of new editions or may be amended from time to time through the issuance of amendments, corrigenda, or errata. An official IEEE document at any point in time consists of the current edition of the document together with any amendments, corrigenda, or errata then in effect. In order to determine whether a given document is the current edition and whether it has been amended through the issuance of amendments, corrigenda, or errata, visit the IEEE Standards Association web site at [http://ieeexplore.ieee.org/xpl/standards.isp](http://ieeexplore.ieee.org/xpl/standards.isp), or contact the IEEE at the address listed previously.

For more information about the IEEE Standards Association or the IEEE standards development process, visit the IEEE-SA web site at [http://standards.ieee.org](http://standards.ieee.org).

## Errata

Errata, if any, for this and all other standards can be accessed at the following URL: [http://standards.ieee.org/reading/ieee/updates/errata/index.html](http://standards.ieee.org/reading/ieee/updates/errata/index.html). Users are encouraged to check this URL for errata periodically.

## Interpretations

Current interpretations can be accessed at the following URL: [http://standards.ieee.org/reading/ieee/interp/index.html](http://standards.ieee.org/reading/ieee/interp/index.html).

## Patents

Attention is called to the possibility that implementation of this guide may require use of subject matter covered by patent rights. By publication of this guide, no position is taken with respect to the existence or validity of any patent rights in connection therewith. A patent holder or patent applicant has filed a statement of assurance that it will grant licenses under these rights without compensation or under reasonable rates, with reasonable terms and conditions that are demonstrably free of any unfair discrimination to applicants desiring to obtain such licenses. Other Essential Patent Claims may exist for which a statement of assurance has not been received. The IEEE is not responsible for identifying Essential Patent Claims for which a license may be required, for conducting inquiries into the legal validity or scope of Patents Claims, or determining whether any licensing terms or conditions provided in connection with submission of a Letter of Assurance, if any, or in any licensing agreements are reasonable or non-discriminatory. Users of this guide are expressly advised that determination of the validity of any patent rights, and the risk of infringement of such rights, is entirely their own responsibility. Further information may be obtained from the IEEE Standards Association.

## Participants

At the time this guide was submitted to the IEEE-SA Standards Board for approval, the Power Electronics Building Blocks (PEBB) Concepts Working Group had the following membership:

\begin{tabular}{l l}  & **Narain Hingorani**, _Chair_ \\ Bjarne Andersen & Ani Gole \\ Robert Ashton & Simon Herold \\ Henri Baerd & Paul Howard \\ Hubert Bilodeau & Chris Horwill \\ Paul Bishop & Boris Jacobson \\ Joseph Borraccini & Yuri Khersonsky \\ Dushan Boroyevich & Joerg Lang \\ Gerald Castellucci & Sudip Mazumder \\ Chris Dafs & Ben Mehraban \\ Erwin Dirks & Ned Mohan \\ Joerg Dorn & Antonello Monti \\ Roger Dougal & Jiu Ping Pan \\ Terry Eriesen & John Paserba \\ Lyndsay Garrett & Joseph Piff \\ Herbert Ginn & Jim Quirk \\ \end{tabular}

The following members of the individual balloting committee voted on this guide. Balloters may have voted for approval, disapproval, or abstention.

\begin{tabular}{l l l} William J. Ackerman & E. Horgan & Steven Sano \\ Hubert Bilodeau & R. Jackson & Bartien Sayogo \\ Paul Bishop & Innocent Kamwa & Thomas Schossig \\ Chris Brooks & Yuri Khersonsky & Mark Shepard \\ Arvind K. Chaudhry & J. Koepfinger & Gil Shultz \\ Alireza Danesphpooy & Jim Kulchisky & Cheong Siew \\ Gary Donner & Chung-Yiu Lam & James Smith \\ Roger Dougal & Greg Luri & Jerry Smith \\ Neal Dowling & Linda Maepa & Michael Steurer \\ Gary Engmann & John McDonald & Gary Stoodter \\ Lyndsay Garrett & Georges Montillet & Joseph Sullivan \\ Frank Gerfevev & Jerry Murphy & Albert Tucker \\ Jalal Gohari & Michael S. Newman & Eric Udren \\ Edwin Goodwin & Paul Nikolich & John Vergis \\ Randall Groves & Lorraine Padden & Joseph Weiss \\ Adolfo Gutierrez & Iulian Profir & Kenneth White \\ David Harris & Michael Roberts & Sandeep Zope \\ Gary Heuston & Benjamin Rolfe & \\ Narain Hingorani & William Rose \\ \end{tabular}

[MISSING_PAGE_POST]

When the IEEE-SA Standards Board approved this guide on 9 December 2010, it had the following membership:

**Robert M. Grow,** _Chair_

**Richard H. Hulett,** _Tice Chair_

**Steve M. Mills,** _Past Chair_

**Judith Gorman,** _Secretary_

\begin{tabular}{l l} Karen Bartleson & Young Kyun Kim & Ronald C. Petersen \\ Victor Berman & Joseph L. Koepfinger* & Thomas Prevost \\ Ted Burse & John Kulick & Jon Walter Rosdahl \\ Clint Chaplin & David J. Law & Sam Sciacca \\ Andy Drozd & Hung Ling & Mike Seavey \\ Alexander Gelman & Oleg Logginov & Curtis Siller \\ Jim Hughes & Ted Olsen & Don Wright \\ \end{tabular}

*Member Emeritus

Also included are the following nonvoting IEEE-SA Standards Board liaisons:

\begin{tabular}{l l} Satish Aggarwal, _NRC Representative_ \\ Richard DeBlasio, _DOE Representative_ \\ Michael Janezic, _NIST Representative_ \\ Julie Alessi \\ _IEEE Standards Program Manager, Document Development_ \\ Soo H. Kim \\ _IEEE Standards Program Manager, Technical Program Development_ \\ \end{tabular}

vii

Copyright (c) 2011 IEEE. All rights reserved.

###### Contents

* 1 Overview
	* 1.1 Scope
	* 1.2 Purpose
	* 1.3 Limitations
	* 1.4 Guide for users
* 2 Normative references
* 3 Definitions, acronyms, and abbreviations
	* 3.1 Definitions
	* 3.2 Acronyms and abbreviations
	* 4.1 Principles of control partition
	* 4.1 Partition criteria and basic architecture
	* 4.2 Functional Partition
	* 4.3 Temporal partition
* 5 Recommended architecture and interface design guideline
	* 5.1 Definition of layers in a hierarchical architecture
	* 5.2 Interface guidelines for the layered architecture
* 6 Design example using the guideline
	* 1.7 6.1 System requirements
	* 1.7 6.2 Control System Architecture
	* 1.7 6.3 Partitioning and interface requirements
	* 1.8 6.4 Implementation summary
	* 2.1 Annex A (informative) Interface Characterization
		* 2.1.1 Interface characteristics classifications
		* 2.1.2 Interface requirements case study
		* 2.1.3 Analysis of results
		* 2.1.4 Annex B (informative) Bibliography

IEEE Guide for Control Architecture for High Power Electronics (1 MW and Greater) Used in Electric Power Transmission and Distribution Systems

###### Abstract

Important NOTICE: This standard is not intended to ensure safety, security, health, or environmental protection. Implementers of the standard are responsible for determining appropriate safety, security, environmental, and health practices or regulatory requirements.

This IEEE document is made available for use subject to important notices and legal disclaimers. These notices and disclaimers appear in all publications containing this document and may be found under the heading "Important Notice" or "Important Notices and Disclaimers Concerning IEEE Documents." They can also be obtained on request from IEEE or viewed at [http://standards.ieee.org/IPR/disclaimers.html](http://standards.ieee.org/IPR/disclaimers.html).

## 1 Overview

In 2003, IEEE Working Group i8 "Power Electronics Building Block Concepts," of Power Electronics Subcommittee, of PES Substations Committee, published a document for a variety of high-power electronics applications in the areas of Power Quality/Custom Power, Flexible AC Transmission Systems (FACTS), High Voltage DC Transmission (HVDC), Distributed Generation, Energy Storage applications, with a power range from hundreds of kW to thousands of MW, but with emphasis on the 1 MW to hundreds of MW. This document, IEEE Product Number 04TP170, "Power Electronics Building Block (PEBB) Concepts," is available from IEEE.

Concurrently, Task Force 1 of the sponsoring Working Group i8, worked on defining control architecture for PEBB-based power electronics, as shown in Figure 1. This Task Force concluded that when the control functions of different power electronic systems are investigated and evaluated, a significant degree of common functionality emerges, irrespective of the target application. Using the concept of system layers, it is possible to define hierarchical control architectures for these systems. Such definitions enable the use of common designs for multiple applications and the use of commercially available electronics and communications modules significantly reducing the cost of power electronics applications. It is important, therefore, that the overall systems control architecture be inherently capable of supporting multiple applications, regardless of their configuration.

###### Abstract

The Working Group i8 concluded that this architecture is broadly applicable, whether or not the power electronics is PEBB-based. For consistency, the term PEBB will be used throughout the document. The term PEBB(s) can be substituted, however, by Module(s), Stack(s), Brick(s), Panel(s), etc. It is not the intention of this document to define the contents of a PEBB, Module, Stack, Brick, Panel, etc., nor to define the engineering details of each layer of the architecture, but to define various parameters/functions that need to be handled within each layer and those that need to be communicated between the layers and their required communication speeds.

## 1 Introduction

The Working Group i8 concluded that this architecture is broadly applicable, whether or not the power electronics is PEBB-based. For consistency, the term PEBB will be used throughout the document. The term PEBB(s) can be substituted, however, by Module(s), Stack(s), Brick(s), Panel(s), etc. It is not the intention of this document to define the contents of a PEBB, Module, Stack, Brick, Panel, etc., nor to define the engineering details of each layer of the architecture, but to define various parameters/functions that need to be handled within each layer and those that need to be communicated between the layers and their required communication speeds.

The move toward modular control architecture is further motivated by the rapid obsolescence of controls relative to other parts of power electronics systems. Consequently, it is imperative that portions or layers of the controls be independently upgradeable to avoid the need to replace the complete power electronics system. A common definition of the control layers, with defined interfaces, enables the ability for a partial upgrade.

These common control layers, as shown in Figure 1, include a system control layer that determines the overall mission of the system, an application control layer responsible for maintaining overall functions of the power electronics, a converter control layer that implements many common functions of converters, a switching control layer that handles the switching logic/sequence, and the hardware control layer that manages everything specific to the power hardware. Each layer has characteristic processing and communication speed requirements, irrespective of the final applications.

The stakeholders of this guide include owners, designers and suppliers of high-power electronics equipment for transmission or distribution systems.

Figure 1: Recommended architecture for power electronics applications

### Scope

The scope of this guide is to define and characterize control architecture for high-power electronics from power semiconductor device levels to the power system level. This guide covers the application of power electronics in the areas of Power Quality/Custom Power, Flexible AC Transmission Systems (FACTS), High Voltage DC Transmission (HVDC), Distributed Generation, Energy Storage applications, etc. with a power range from hundreds of kW to thousands of MW, but with emphasis on the 1 MW to hundreds of MW.

### Purpose

The purpose of this guide is to define hierarchical control architecture, define various parameters/functions that need to be handled within each level, and those that need to be communicated between the levels and their required speed range. When the control functions of many different power electronic systems are investigated and evaluated, a significant degree of common functionality emerges, irrespective of the target application. Using the concept of system levels (or layers), it is possible to define a hierarchical control architecture for high-power electronics-based systems. The intent of this document is to provide a framework and guideline specifically for the control system in order to allow multiple vendors to design and manufacture components, subassemblies, and software, which can be used in a large variety of power electronic products or systems. This guideline will also serve as a foundation for interchangeability among different manufacturers at the layer level with defined interfaces.

### Limitations

This guide is intended specifically for high-power applications with a power range of hundreds of kW to thousands of MW, but with emphasis on the 1 MW to hundreds of MW used in electric power transmission and distribution systems.

### Guide for users

This guide is organized into six clauses and two annexes:

* Clause 1 is an overview of the scope, purpose, and organization of this guide
* Clause 2 lists the indispensible normative references
* Clause 3 provides definitions, abbreviations and acronyms used throughout the text of this guide
* Clause 4 provides the principle of control partitions
* Clause 5 is the recommended architecture and interface design guideline
* Clause 6 is a design example using the guideline
* Annex A provides a case study on interface characterization
* Annex B is a bibliography of related publications

## 2 Normative references

The following referenced documents are indispensable for the application of this document (i.e., they must be understood and used, so each referenced document is cited in text and its relationship to this document is explained). For dated references, only the edition cited applies. For undated references, the latest edition of the referenced document (including any amendments or corrigenda) applies.

IEEE Product Number 04TP170, "Power Electronics Building Block (PEBB) Concepts," (available from IEEE Customer Service Department, customer-service@ieee.org.)

## 3 Definitions, acronyms, and abbreviations

### Definitions

For the purposes of this document, the following terms and definitions apply. _The IEEE Standards Dictionary: Glossary of Terms & Definitions_ should be consulted for terms not defined in this clause.1

Footnote 1: The IEEE Standards Dictionary: Glossary of Terms & Definitions is available at [http://shop.ieee.org/](http://shop.ieee.org/).

\(a\)**:** Signals that may be configuration related and occur at set-up or at infrequent intervals.

**application control layer (App):** All functions involved in the operation of the power electronic system in order to meet the mission determined by the system control.

NOTE--See 5.1.2.

**converter control layer (Cnv):** All functions that enable the application control layer to perform its mission by implementing many of the functions common to all converters such as synchronous timing, current and voltage filtering, measurements, and feedback control calculations.

NOTE--See 5.1.3.

**hardware control layer (Hwr):** All functions that manage everything specific to the power devices; it may consist of multiple modules depending on the power requirements.

NOTE--See 5.1.5.

**system control layer (Sys):** All functions involved in the determination of the system mission and the duties of the power electronics system.

NOTE--See 5.1.1.

**switching control layer (Swt):** All functions that enable the power electronics to behave as a switch-mode controlled source and includes modulation control and pulse generation.

NOTE--See 5.1.4.

### Acronyms and abbreviations

App application control layer

App-Cnv boundary between the application and converter control layersIEEE Std 1676-2010 IEEE Guide for Control Architecture for High Power Electronics (1 MW and Greater) Used in Electric Power Transmission and Distribution Systems

BESS Battery Energy Storage System

C control commands interface characteristic classification; See A.1

CB Channel Bandwidth

Cnv converter control layer

Cnv-Swt boundary between the converter and switching control layers

DVR Dynamic Voltage Restorer

FACTS Flexible AC Transmission Systems

\(f_{sum}\) sampling frequency

\(f_{sw}\) switching frequency

Hwr hardware control layer

HVDC High Voltage DC Transmission

IGBT Insulated-Gate Bipolar Transistor

I system information

I\({}_{max}\) (A) over-current phase; (B) maximum current

I\({}_{ref}\) reference current

\(K_{d}\) ratio of sampling period to transmission time

M measurement interface characteristic classification

Meas measurement signals

\(N\) number of signals

\(nb\) number of branches

\(n_{d}\) number of bits representing the analog signal

\(nl\) number of levels in the converter

\(n_{x}\) number of bits representing the variable \(x\)

P protection interface characteristic classification; See A.1

PI Proportional Integral

PEBB Power Electronics Building Block

PLL synchronous timing; Phase-Locked Loop

S settings of the control system interface characteristic classification; See A.1

## 4 Principles of control partition

The overall control of a power electronics system is achieved by arranging rudimentary control functions to produce a desired control. Traditional power electronics system designs often combine various parts of control functions together blurring the boundaries of each. The layout of the control structure typically occurs during software development, e.g., assembly code, C-code programming where control modularity is traded for reductions in code size and execution speed. Although a hierarchical partitioning may not yield the most computationally efficient design, partitioning these control functions can increase interconnectivity and reduce reoccurring engineering for follow-on efforts. Moreover, the continuous trend of increasing digital controller performance and memory size along with reduction of cost has now reached a point where the benefits of code optimization rarely outweigh the benefits of modularity.

The concept of control partitioning has been developed and analyzed for generic power electronics applications (see Ericsen et al. [B5]). Utility power system applications with their ratings and complexities can be a promising field for building and developing power electronics systems based on hierarchical modular subsystems.

### Partition criteria and basic architecture

In general, a partition may be based on the following criteria:

* Functional partition, e.g., application control, converter control, switching control
* Temporal partition, e.g., protection, switching frequency and modulation, time constants, control bandwidth
* Spatial partition, e.g., compartments, drawers, floor
* Technological partition, e.g., digital, analog, miniaturationAll four criteria should be used for partitioning. However, because the technological and spatial criteria are specific to particular implementations, the functional and temporal partitions are considered to be the driving criteria. In the majority of cases, these criteria naturally occur at the same boundaries.

In Celanovic [B1] and Celanovic et al. [B2], a control architecture was proposed for generic power electronics systems. Systems comprised of discrete subsystems and modules, such as PEBB-based systems, simplify the integration of the partitioned architecture concept; however, PEBB-based hardware is not a requirement. The architecture should be independent of the application.

Figure 1 is a typical converter application with a basic partition of the control system. In this case, the power hardware subsystem (stack or module assembly in Figure 1) is composed of a phase leg with the functions of switching and primary device monitoring and protection, as well as the phase current sensing. However, the modularization of a power electronic system does not depend on the power module configuration. In Hanson [B7], a manufacturer presented products based on half-bridge power modules; in Hingorani et al. [B8] another manufacturer used an H-bridge as the basic power module. It is important to note that partitioning hardware modules will not change the basic function of the hardware control layer and will be transparent to higher control layers. Figure 1 also suggests that the partition for a converter system control consists of multiple subsystems arranged in five layers: a system control layer, an application control layer, a converter control layer, a switching control layer, and the hardware control layer. An outline of this discussion is presented in Wang et al. [B24]. In other cases, additional control layers may be necessary, or multiple layers may be combined.

It is recognized that an application may have more than one piece of power electronics hardware, e.g., converter. This may be because one converter is not enough to meet the power requirement or more than one converter is needed to meet power quality, redundancy, etc. The converters may be remote from each other and linked together through transmission or distribution lines. The proposed architecture recommends that each converter have its own independent switch control to serve its hardware control. The proposed architecture further suggests that there may be a common converter control to serve multiple switching controls. Also, one application control may serve more than one converter control. The function of protection is to take the necessary action as fast as required; therefore, the function of protection may go to any of the layers.

The interfaces between control layers are denoted by the hyphenated abbreviations of layer names with the higher layer appearing first as shown in Figure 2. Signals crossing the boundaries are referenced with respect to the originating control layer.

### Functional Partition

In order to partition a system, it is necessary to determine the control functions of the system. In Annex A, different applications for utility systems are analyzed: a shunt connected compensator represented by a static compensator (STATCOM), a series connected compensator represented by a dynamic voltage restorer (DVR), and a solid-state transfer switch (SSTS). The first two applications are based on voltage source converter topology. The third system corresponds to a symmetrical ac switch best implemented using current source topology.

The functional analysis is divided into the system control layer, application control layer, converter control layer, switching control layer and hardware control layer. The system layer controller, also called external controller, establishes the functions that are the main mission of the power electronics system. These goals determine the function of the application control layer. In order to achieve the goals required by the system and implemented by the application control, some standard control functions should be performed. The converter control layer comprises the control functions necessary to achieve those results. Finally, the desired functions require an operation of the hardware elements. This translation of the control function to the hardware operation is done at the switching control and hardware control layers. Table 1 shows the control function classification for the DVR, STATCOM and SSTS examples.

The functions in the hardware control layer are common to all applications. The only difference appears when one or the other type of stack/module assembly is used and the differentiating characteristic is the reason for using one or the other type of topologies. The switching control layer functions are also common across many of the applications. At that layer, the differentiating factor is the voltage source or current source topology. Above the switching control layer all of the layers have some differences across

Figure 2: Control layer interfaces and signal direction conventionapplications; however, the differences become more numerous as the layers are traversed upward toward the system control layer.

### Temporal partition

Along with the functional distribution, the temporal distribution is considered to be a driving criterion. In a majority of cases, functional and temporal distributions naturally occur at the same boundaries.

Annex A presents an analysis that illustrates the spatial and temporal partitions have commonality. When a system is partitioned, the partition interface should be designed to meet performance requirements of different layers, including requirements on data volume and transmission rates. The interface should be designed to enable layer modularity such that replacement of any layer should not induce modifications in other layers.

The interface analysis presented here demonstrates that a multi-layer hierarchical control partition is an appropriate architecture that can facilitate construction and analysis of power electronics systems for power system applications.

## 5 Recommended architecture and interface design guideline

The control layers include a system layer, an application layer, a converter layer, a switching layer, and a hardware layer. These layers, shown in Figure 1, are based on temporal considerations. The communication

\begin{table}
\begin{tabular}{|p{56.9pt}|p{56.9pt}|p{56.9pt}|p{56.9pt}|} \hline
**System** & **STATCOM** & **DVR** & **SSTS** \\ \hline
**Simplified** & & & \\
**one-line** & & & \\
**diagram** & & & \\ \hline
**System control layer** & Voltage support and reactive power compensation & Mitigation of the effect of sags by adding a voltage during disturbances & Increase the reliability of the electric supply \\ \hline
**Application control layer** & 1- Reactive power compensation & 1- Three-phase voltage regulation & 1- Disturbance detection 2- Detection of inhibition condition \\  & 2- Transient stability enhancement & 2- Three-phase voltage balance 3- Energy storage administration. & 3- elect the source of energy 4- Open/close mechanical switch \\  & 4- VAR reserve control & 4- By-pass function & switch \\ \hline
**Converter control layer** & 1- Synchronous timing (PLL) & 1- Synchronous timing (PLL) & 1- Synchronous timing (PLL) \\  & 2- Line current control & 2- Output 1 \& V control & 2- Open/close solid state circuit \\  & 3- Include V\({}_{\text{DC}}\) for calculation of duty cycles (in direct control) & 3- Management of the energy storage, dc connection (I\({}_{\text{DC}}\) control) & breaker \\ \hline
**Switching control layer** & 1- Duty cycle calculation 2- Switching control (modulation control) & 1- Firing pulse computation \\ \hline
**Hardware control layer** & 1- Pulse gating 2- Safe commutation enabling (limiting dV/dt, di/dt, etc) 3- Primary protection of devices 4- Power magnitudes sensing and conditioning & 1- Firing pulse computation \\ \hline \end{tabular}
\end{table}
Table 1: Functional analyses of DVR, STATCOM, and SSTSspeed requirements at the lowest, or hardware, layer are the greatest and decline with each higher control layer. However, in some cases the speed ranges for two adjacent layers may overlap due to synchronization requirements. It is preferred to use communication protocols for which industry standards have already been established.

A basic description and criteria for establishing the contents and boundary of each control layer follows.

### Definition of layers in a hierarchical architecture

In order to determine the locations of the control layer boundaries, it is helpful to categorize power electronic systems. The various types of power electronic systems can be placed into one of three broad categories: shunt connected current controller, series connected voltage controllers, and combinations thereof (see Hingorani et al. [B8]). Simplified control architectures for these basic categories are shown in Figure 3 and Figure 4.

#### 5.1.1 System control layer

All functions involved in the determination of the system mission and the duties of the power electronics system belong to this layer. This layer would also include any human-machine interfaces. The functions contained within the system control layer (Sys) are beyond the scope of this guide and may be found in other standards. From the viewpoint of the system controller, the lower control layers execute all power electronic system functions that are necessary to fulfill the system mission.

#### 5.1.2 Application control layer

The application control layer (App) dictates the operation of the power electronics system in order to meet the mission determined by the system control. From the viewpoint of the application controller, the lower control layers of the power electronics system enable the power electronics system to be viewed as one of the two possible equivalent devices: controlled current source or controlled voltage source. For example, as shown in Figure 3 and Figure 4, the boundary between the application control layer and lower control layers (short dashed line) is determined by those control subsystems that enable the power electronics to behave as a controlled current or voltage source. Here the controlled source is defined as having its terminals at the system side of the coupling impedance of the converter. Therefore, the output signal for the application control layer at the interface with the converter control layer should contain either current or voltage reference signals.

#### 5.1.3 Converter control layer

The primary characteristic of the converter control layer (Cnv) is the feedback control system, as shown in Figure 3 and Figure 4, while the other components support the input and output requirements of the feedback control system. The converter control layer implements many of the functions common to all converters such as synchronous timing (e.g., PLL), current and voltage measurement filtering, and feedback control calculations. The PLL is shown separately since, in general, it may be used by the application control layer, the converter control layer, and the switching control layer. In this case, the temporal distribution is the deciding factor placing it within the converter control layer.

#### 5.1.4 Switching control layer

The switching control layer (Swt) and all lower layers enable the power electronics to behave as a switch-mode controlled source and include modulation control and pulse generation. These functions are common and independent of the final application. Here the switch-mode controlled source is defined as having its terminals directly at the power terminals of the PEBB hardware.

#### 5.1.5 Hardware control layer

The hardware control layer (Hwr) manages everything specific to the power devices, and it may consist of multiple modules depending on the power requirements. Gating, galvanic isolation, safe commutation, limits of di/dt, dv/dt, and first level protections, etc., are functions of this layer and are common for virtually any application.

Figure 3: Functional diagram of a shunt connected current controller

### Interface guidelines for the layered architecture

The interface requirements between layers are summarized in this clause. Signal directions are defined at each layer interface with respect to their layer of origin, i.e., originating from the layer above or below the interface. The standard recognizes the necessity of categorizing and characterizing interface signals and recognizes that there are many approaches to accomplishing this such as primary, auxiliary, measurement, functional, fast-speed, slow-speed, priority, etc. Thus, signals are divided into three broad categories that will accommodate the majority of more detailed characterizations. These are: Control and Protection Signals (simply referred to here as Control Signals), State Signals, and Measurement Signals (Meas). Control Signals refer to the signals associated with the main control or protection tasks of a particular control layer. State Signals refer to those signals that either set or report the state of a control layer subsystem or of the converter system as a whole. Measurement Signals are any signals that were generated by an analog to digital conversion process. Once in digital form, Measurement Signals remain as Measurement Signals if no operations other than scaling are performed. If a Measurement Signal enters a control subsystem and an operation more complex than scaling is performed, then the resulting signal is considered to be a Control Signal.

Some information may be traversing the interfaces of the hierarchy and not generated or used by the adjacent layers; in these cases the signal is designated as a pass-through signal. Provisions should be made for a pass-through signal if the control structure is to remain strictly hierarchical.

Figure 4: Functional diagram of a series connected voltage controller

[MISSING_PAGE_FAIL:23]

#### 5.2.1 System layer to application layer interface description

An example list of the typical signals at the system layer-application layer (Sys-App) interface is summarized in Table 3 below.

\begin{table}
\begin{tabular}{|p{113.8pt}|p{113.8pt}|p{113.8pt}|p{113.8pt}|} \hline
**Control Layer** & **Signals generated within the layer** & **Signals utilized from an external layer** \\ \hline \multirow{5}{*}{**Converter**} & \multirow{5}{*}{**Converter**} & 1. Modulator duty cycle command vector. 2. Synchronization signal (Ex: phase-locked-loop) & 1. Voltage or current reference signals \\ \cline{3-5}  & & 1. Converter layer controller parameter provisioning data & 1. Converter layer controller parameter setting data 2. Modulator status (Ex: normal, saturated) \\ \cline{3-5}  & & & 1. Voltages at point of converter connection 2. Currents in each phase leg \\ \hline \multirow{5}{*}{**Switching**} & \multirow{5}{*}{**Switching**} & 1. Modulator duty cycle command vector. 2. Synchronization signal (Ex: phase-locked-loop) & 1. Gate control signals –1 per semiconductor 3. PEBB overcurrent/overvoltage 4. Device protection – 1 per semiconductor switch \\ \cline{3-5}  & & 1. Modulator parameter provisioning data 2. Modulator status (Ex: normal, saturated) & 1. Modulator parameter setting data (Ex: _fsw_, dead-time) \\ \cline{3-5}  & & & 1. de bus voltage or current \\ \cline{3-5}  & & & 1. de bus voltage or current \\ \hline \end{tabular}

* If a signal is generated in a layer, the same signal will be found in at least one layer of the utilized column.

\end{table}
Table 2: Examples of control layer signals* (Continued)

\begin{table}
\begin{tabular}{|p{113.8pt}|p{113.8pt}|p{113.8pt}|p{113.8pt}|} \hline
**System layer - application layer** & **Type** & **Generating layer** & **Utilizing layers** \\ \hline Converter mode selection data & State & System & Application \\ \hline Converter operating mode data & State & Application & System \\ \hline Converter system ready status & State & Application & System \\ \hline Application layer controller parameter setting data & State & System & Application \\ \hline Application layer controller parameter provisioning data & State & Application & System \\ \hline Converter layer controller parameter setting data & State & System & Converter \\ \hline Converter layer controller parameter provisioning data & State & Converter & System \\ \hline \end{tabular}

* If a signal is generated in a layer, the same signal will be found in at least one layer of the utilized column.

\end{table}
Table 3: Examples of signals at system–application interface (Sys-App)

#### 5.2.2 Application layer to converter layer interface description

An example list of the typical signals for the application control layer-converter control layer (App-Cnv) interface is summarized in Table 4 below.

#### 5.2.3 Converter layer to switching layer interface description

An example list of the typical signals for the converter control layer - switching control layer (Cnv-Swt) interface is summarized in Table 5.

#### 5.2.4 Converter layer to switching layer interface description

An example list of the typical signals for the converter control layer - switching control layer (Cnv-Swt) interface is summarized in Table 5.

#### 5.2.4 Switching layer to hardware layer interface description

A minimum list of the typical signals for the switching control layer-hardware control layer (Swt-Hwr) interface is summarized in Table 6 below.

\begin{table}
\begin{tabular}{|l|c|c|c|} \hline
**Switching layer- hardware layer** & **Type** & **Generating layer** & **Utilizing layers** \\ \hline Gate control signals & Control & Switching & Hardware \\ \hline Device protection & Control & Hardware & Switching, application \\ PEBB overcurrent/overvoltage & Control & Hardware & Switching, application \\ \hline State commands for circuit configuration devices (such as contacts) & State & Application & Hardware \\ \hline State commands for auxiliary equipment such a heat sink & State & Application & Hardware \\ \hline Status of circuit configuration devices & State & Hardware & Application \\ \hline Status of auxiliary equipment & State & Hardware & Application \\ \hline Status of auxiliary equipment & State & Hardware & Application \\ \hline Status of gate drivers & State & Hardware & Application \\ \hline Voltage at point of converter connection & Meas & Hardware & Converter \\ \hline Currents in each phase leg & Meas & Hardware & Converter \\ \hline System line currents & Meas & Hardware & Application \\ \hline \end{tabular}
\end{table}
Table 5: Examples of signals at converter-switching interface (Cnv-Swt)

\begin{table}
\begin{tabular}{|l|c|c|c|} \hline
**Converter layer- switching layer** & **Type** & **Generating layer** & **Utilizing layers** \\ \hline Modulator duty cycle command vector & Control & Converter & Switching \\ \hline Synchronization signal from a phase-locked-loop & Control & Converter & Switching, application \\ \hline State commands for circuit configuration devices & State & Application & Hardware \\ \hline Status of circuit configuration devices (pass-through) & State & Hardware & Application \\ \hline State commands for auxiliary equipment (pass-through) & State & Application & Hardware \\ \hline Status of auxiliary equipment (pass-through) & State & Hardware & Application \\ \hline State of gate drivers (pass-through) & State & Hardware & Application \\ \hline Modulator parameter setting data & State & System & Switching \\ \hline Modulator parameter provisioning data & State & System & Switching \\ \hline Modulator status data & State & Switching & Converter \\ \hline Voltages at point of converter connection & Meas & Hardware & Converter, application \\ \hline Currents in each phase leg & Meas & Hardware & Converter \\ \hline System line currents (pass-through) & Meas & Hardware & Application \\ \hline dc bus voltage or current & Meas & Hardware & Switching, application \\ \hline \end{tabular}
\end{table}
Table 6: Examples of signals at switching-hardware interface (Swt-Hwr)

## 6 Design example using the guideline

An example design is presented that follows the recommended architecture and interface guidelines provided in Clause 5. A voltage source converter connected in the shunt configuration is selected as the design example due to the large number of applications to which that configuration can be applied. The application is a STATCOM/active filter combination.

### System requirements

The active compensator application described here is a typical active power filter application. The term active compensator is used because the power electronic system should be able to selectively inject compensating currents. Each current component, reactive, unbalanced and distorted, should be individually scalable. Thus, the percentage of each measured quantity to be compensated for is determined by the system control according to the mission of the system.

Operating modes such as off, standby and online should be controllable by the system control layer. Also, the control parameters for the dc and current control loops should be adjustable from the system control layer. Finally, error and fault conditions as well as all control parameter values should be reported to the system control.

### Control System Architecture

This implementation meets the power electronics system requirements described in Ginn et al. [B6], and the simplified functional diagram is shown in Table 5. Each block of the functional diagram is examined according to the criteria set forth in 5.1 in order to determine to which layer control subsystems belong. Then, the interface requirements for the layers are determined based on the traversing signals.

### Partitioning and interface requirements

The division shown in Figure 5 between system hardware and the control system corresponds to the partition between the hardware and switching layers in Figure 1. The outputs of the "CPC based current waveform reconstruction algorithm" block are the current reference signals. The subsystems that accept those references enable the power electronics system to function as a controlled source. Thus, that is the boundary between the application layer and the converter control layer. The space vector pulse width modulator (SVPWM) algorithm block belongs to the switching control layer and the inputs into it mark the boundary between the converter control and switching control layers. Figure 6 presents the partitioned system in greater detail in the format of Figure 1. The system shown in Figure 6 is based on the prototype implementation described in Ginn et al. [B6]. However, the developed prototype was for a 100 kW power level in a 480 volt system. Higher voltage and higher power systems may differ in their placement of A/D converters as compared to similar lower voltage, lower power systems. Therefore, in this example the A/D converters are placed in the hardware control layer in accordance with this guide, while for the system in Ginn et al. [B6] they are placed in the switching control layer.

Figure 5: System functional diagram for the example application

[MISSING_PAGE_EMPTY:29]

IEEE Stid 1676-2010

IEEE Guide for Control Architecture for High Power Electronics (1 MW and Greater) Used in Electric Power Transmission and Distribution Systems

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|c|} \hline
**Parameter** & **Signal** & **Interface signal** & **Generating** & **Utilizing** & **Bit** & **Sampling** & **or update** \\  & **name** & **description** & **module (layer)** & **module (layer)** & **function** & **rate** \\ \hline \multirow{10}{*}{**Parameter**} & \(i_{\text{CA}}\) & Phase A feedback & A/D converter & Current cont (Cnv) & 12-bit & 12 kHz \\  & \(i_{\text{CB}}\) & Phase B feedback & A/D converter & Current cont (Cnv) & 12-bit & 12 kHz \\  & \(i_{\text{mA}}\) & Phase A line measured & A/D converter & RDFT alg (App) & 12-bit & 12 kHz \\ \cline{2-7}  & \(i_{\text{mB}}\) & Phase B line measured & A/D converter & RDFT alg (App) & 12-bit & 12 kHz \\  & \(v_{\text{AC}}\) & & current & (Hwr) & RDFT alg (App) & 12-bit & 12 kHz \\ \cline{2-7}  & \(v_{\text{BC}}\) & ac voltage, phase A to C & A/D converter & Voltage trans (Cnv) & 12-bit & 12 kHz \\ \cline{2-7}  & \(v_{\text{BC}}\) & ac voltage, phase B to C & A/D converter & Voltage trans (Cnv) & 12-bit & 12 kHz \\ \cline{2-7}  & \(U_{d}\) & dc bus voltage & A/D converter & SVPWM (Swt) & 12-bit & 12 kHz \\  & \(U_{\text{f}}\) & & (Hwr) & dc voltage cont (App) & 12-bit & 12 kHz \\ \cline{2-7}  & C\({}_{\text{f}}\) & Precharge feedback & Auxiliary contact & A/D conv (Swt) & 1-bit & 12 kHz \\  & \(\text{F}_{\text{f}}\) & Fan feedback & Fan tach signal & Operating mode and & 12-bit & 12 kHz \\  & \(\text{temp}_{\text{x}}\) & Temp channel & IGBT module & A/D conv (Swt) & 12-bit & 12 kHz \\  & \(\text{PWMA}\) & Driving signal for six & Switching logic \& deadtime (Swt) & Comparators and logic & 1 bit per & 125MHz \\  & [1-6] & & & & & \\ \cline{2-7}  & \(\text{E}_{\text{res}}\) & Error reset & Operating mode and ready status & Out comparators and logic based switching signal cutoff (Hwr) & 1-bit & \(\alpha\) \\ \hline \multirow{10}{*}{**Parameter**} & \(\text{F}_{\text{en}}\) & Fan enable, active low & Operating mode and ready status & Thermal management & \multirow{1}{*}{1-bit} & \multirow{1}{*}{\(\alpha\)} \\  & \(\text{C}_{\text{en}}\) & Precharge, active high & Operating and ready status & & & \\ \cline{1-1} \cline{2-7}  & \(\text{P}_{\text{dac}}\) & Protection function & Operating mode and ready status & Comparator D/A for & \multirow{1}{*}{2-bit} & \multirow{1}{*}{\(\alpha\)} \\  & \(\text{setting}\) selection & & (App) & & & \\ \cline{1-1} \cline{2-7}  & \(\text{P}_{\text{set}}\) & Serial data for DAC & Operating mode and ready status & Comparator D/A for & \multirow{1}{*}{16-bit} & \multirow{1}{*}{1.25MHz} \\  & \(\text{T}_{\text{sel}}\) & & (App) & & & \\ \hline \end{tabular} NOTE—a denotes signals that may be configuration related and occur at set-up or at infrequent intervals. The sampling rate at which these signals occur is dependent upon how fast the application needs to self-configure.

\end{table}
Table 7:Signals at switching to hardware layer interface (Swt-Hwr)IEEE Stid 1676-2010

IEEE Guide for Control Architecture for High Power Electronics (1 MW and Greater) Used in Electric Power Transmission and Distribution Systems

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|c|} \hline \multirow{2}{*}{**Parameter**} & \multirow{2}{*}{**Signal**} & \multirow{2}{*}{**Interface signal**} & \multirow{2}{*}{**Generating**} & \multirow{2}{*}{**Utilizing**} & \multirow{2}{*}{**Resource**} & \multirow{2}{*}{**Resource**} & \multirow{2}{*}{**Resource**} \\  & & & & & & \\  & **name** & & & & & \\ \hline \multirow{11}{*}{**Parameter**} & \(i_{\text{CA}}\) & Phase A feedback & A/D converter & Current cont (Cnv) & 12-bit & 12 kHz \\  & current & (Hwr) & Current cont (Cnv) & 12-bit & 12 kHz \\ \cline{2-7}  & \(i_{\text{CB}}\) & Phase B feedback & A/D converter & Current cont (Cnv) & 12-bit & 12 kHz \\ \cline{2-7}  & \(i_{\text{mA}}\) & Phase A line measured & A/D converter & HDF1 alg (App) & 12-bit & 12 kHz \\ \cline{2-7}  & \(i_{\text{mB}}\) & Phase B line measured & A/D converter & HDF1 alg (App) & 12-bit & 12 kHz \\ \cline{2-7}  & \(\nu_{\text{AC}}\) & ac voltage, phase A to C & A/D converter & Voltage trans (Cnv) & 12-bit & 12 kHz \\ \cline{2-7}  & \(\nu_{\text{BC}}\) & ac voltage, phase B to C & A/D converter & HDF1 alg (Hwr) & Voltage trans (Cnv) & 12-bit & 12 kHz \\ \cline{2-7}  & \(U_{\text{d}}\) & dc bus voltage & A/D converter & SVPWM (Swt) & 12-bit & 12 kHz \\ \cline{2-7}  & C\({}_{\text{f}}\) & Precharge feedback & Auxiliary contact & A/D conv (Swt) & 1-bit & 12 kHz \\ \cline{2-7}  & F\({}_{\text{f}}\) & Fan feedback & Fan tach signal & Operating mode and ready status (App) & 12-bit & 12 kHz \\ \cline{2-7}  & temp\({}_{\text{x}}\) & Temp channel & IGBT module & A/D conv (Swt) operating mode and ready status (App) & 12-bit & 12 kHz \\ \hline \multirow{11}{**Parameter**} & \multirow{2}{*}{vrefA} & Modulator voltage & Current controller & \multirow{2}{*}{SVPWM (Swt)} & \multirow{2}{*}{32-bit} & \multirow{2}{*}{12 kHz} \\  & reference & A (Cnv) & & & & \\ \cline{1-1} \cline{2-7}  & vrefB & Modulator voltage & Current controller & B (Cnv) & & \\ \cline{1-1} \cline{2-7}  & \multirow{2}{*}{E\({}_{\text{res}}\)} & Error reset (under user control) & Operating mode and ready status (App) & Out comparators and logic based switching signal cutoff (Hwr) & 1-bit & \(a\) \\ \hline \multirow{11}{**Parameter**} & \multirow{2}{*}{F\({}_{\text{en}}\)} & \multirow{2}{*}{Fan enable, active low} & Operating mode and ready status (App) & Thermal management (Hwr) & 1-bit & \(a\) \\ \cline{1-1} \cline{2-7}  & \multirow{2}{*}{C\({}_{\text{en}}\)} & Precharge, active high & Operating mode and ready status (App) & Precharge circuits (Hwr) & 1-bit & \(a\) \\ \cline{1-1} \cline{2-7}  & \multirow{2}{*}{P\({}_{\text{dac}}\)} & Protection function & Operating mode and ready status (App) & & & \\ \cline{1-1} \cline{2-7}  & & setting selection (under user control) & Operating mode & & & \\ \cline{1-1} \cline{2-7}  & \multirow{2}{*}{P\({}_{\text{sat}}\)} & \multirow{2}{*}{Serial data for DAC} & Operating mode and ready status (App) & Comparator D/A for protection settings (Hwr) & 16-bit & 1.25MHz \\ \cline{1-1} \cline{2-7}  & & Channel selection bits & Operating mode & & & \\ \cline{1-1} \cline{2-7}  & \multirow{2}{*}{T\({}_{\text{sel}}\)} & for temperature & and ready status & Temp meas MUX (Hwr) & 3-bit & \(a\) \\ \cline{1-1} \cline{2-7}  & & measurement & (App) & & & \\ \hline \end{tabular} NOTE—a denotes signals that may be configuration related and occur at set-up or at infrequent intervals. The sampling rate at which these signals occur is dependent upon how fast the application needs to self-configure.

\end{table}
Table 8:Signals at converter to switching layer interface (Cnv-Swt)

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|c|} \hline

[MISSING_PAGE_FAIL:33]

### Implementation summary

#### 6.4.1 System layer

The system control layer sets operating modes, receives status information, and sends control loop settings and set-points in the application and converter control layers. The system control layer communicates with lower layers through fiber optic Ethernet using the standard transmission control protocol/internet protocol (TCP/IP) for transportation of the data. Riding on the TCP/IP is the Application Protocol Data Unit

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|c|} \hline
**Control** & **Signal** & **Interface signal** & **Generating** & **Utilizing** & **Bit** & **Sampling or** \\
**name** & **description** & **module (layer)** & **module (layer)** & **resolution** & **update** \\ \hline \multirow{6}{*}{**Sky\({}_{\text{a}}\)**} & \multirow{2}{*}{MStat} & Operating mode and & Operating mode and & \multirow{2}{*}{System (Sys)} & \multirow{2}{*}{16-bit} & \multirow{2}{*}{N/A} \\  & & status & ready status (App) & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{Mset} & \multirow{2}{*}{Operating mode set} & \multirow{2}{*}{System (Sys)} & Operating mode and & \multirow{2}{*}{16-bit} & \multirow{2}{*}{N/A} \\  & & & ready status (App) & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{SK\({}_{\text{h}}\)} & \multirow{2}{*}{Set harmonic current gain} & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{SK\({}_{\text{r}}\)} & \multirow{2}{*}{Set reactive current gain} & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{SK\({}_{\text{a}}\)} & \multirow{2}{*}{Set unbalanced current gain} & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{SK\({}_{\text{a}}\)} & \multirow{2}{*}{Set active current gain} & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{RK\({}_{\text{h}}\)} & \multirow{2}{*}{Report harmonic current gain} & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{RK\({}_{\text{r}}\)} & \multirow{2}{*}{Report reactive current gain} & \multirow{2}{*}{Flexible} & \multirow{2}{*}{System (Sys)} & \multirow{2}{*}{16-bit} & \multirow{2}{*}{N/A} \\  & & & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{RK\({}_{\text{a}}\)} & \multirow{2}{*}{Report unbalanced current gain} & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{RK\({}_{\text{a}}\)} & \multirow{2}{*}{Report active current gain} & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{SIK} & \multirow{2}{*}{Set current controller gain Ts/Lc} & \multirow{2}{*}{System (Sys)} & Dead-beat current controllers (Cnv) & 16-bit & \multirow{2}{*}{N/A} \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{RIK} & \multirow{2}{*}{Report current controller gain Ts/Lc} & Dead-beat current controllers (Cnv) & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{SVK\({}_{\text{p}}\)} & \multirow{2}{*}{Set K\({}_{\text{p}}\) of voltage controller} & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{SVK\({}_{\text{i}}\)} & \multirow{2}{*}{Set K\({}_{\text{i}}\) of voltage controller} & \multirow{2}{*}{System (Sys)} & dc voltage controller (App) & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{SVK\({}_{\text{d}}\)} & \multirow{2}{*}{Set K\({}_{\text{d}}\) of voltage controller} & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{RVK\({}_{\text{p}}\)} & \multirow{2}{*}{Report K\({}_{\text{p}}\) of voltage controller} & & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{RVK\({}_{\text{i}}\)} & \multirow{2}{*}{Report K\({}_{\text{i}}\) of voltage controller} & dc voltage controller (App) & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{Report K\({}_{\text{d}}\) of voltage controller} & & & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{Stdcmd} & \multirow{2}{*}{Set dc bus voltage setpoint} & \multirow{2}{*}{System (Sys)} & dc setpoint (App) & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{RUdcmdt} & \multirow{2}{*}{Report dc bus voltage setpoint} & \multirow{2}{*}{dc setpoint (App)} & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{RUDcmd} & \multirow{2}{*}{Report dc bus voltage setpoint} & \multirow{2}{*}{dc setpoint (App)} & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{RUDcmd} & \multirow{2}{*}{Report dc bus voltage setpoint} & \multirow{2}{*}{dc setpoint (App)} & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{RUDcmd} & \multirow{2}{*}{Report dc bus voltage setpoint} & \multirow{2}{*}{dc setpoint (App)} & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & & & & & & \\ \cline{1-1} \cline{5-8}  & \multirow{2}{*}{RUDcmd} & \multirow{2}{*}{Report dc voltage setpoint} & \multirow{2}{*}{Stdcmd} &(APDU) utilizing the IEC60870 standard protocol. The communication between the system control layer and lower layers is asynchronous in that it depends on both network traffic and frequency of requests from the system control layer.

#### 6.4.2 Application layer

The application control layer consists of several subsystems. These include the Operating Mode and Ready Status module, several modules that together comprise a reference signal generator, and a dc control loop to regulate the dc bus of the converter system. The reference signal generator blocks operate at the same sampling frequency as the converter control layer, which is 12 kHz. It accepts measurements and synchronization signals from lower layers and provides a current reference. The dc voltage controller is a simple PI feedback controller operating at a sampling rate of 1.2 kHz.

The system states provided below are managed by the application control layer "Operating Mode and Ready Status" module shown in Figure 6. State change requests shown in Table 7 are made from the system control layer, and the current state is reported to the system control layer.

System states definitions:

1) System pre-charge state:

-- Precharge contactor is opened

-- All insulated-gate bipolar transistor (IGBT) signals are turned off

-- System has no errors

2) dc voltage rising state:

-- Precharge contactor is closed

-- dc voltage control loop is in operation with active reference current limitation

-- System has no errors

3) Normal operation state:

-- Precharge contactor is closed

-- dc voltage control loop and current control loop are in operation based on system working mode

-- Fan is turned on

-- System has no errors

4) Error state:

-- All IGBT signals are turned off

-- Precharge contactor is opened

-- Fan is turned off 

[MISSING_PAGE_FAIL:36]

## Annex A

(informative)

### Interface Characterization

This Annex shows application examples that although not in accordance with the proposed architecture, are exercises for analyzing and quantifying the interface requirements including their frequency bandwidth. This analysis illustrates that the spatial and temporal partitions have commonality across various applications that, thereby, leads to the proposed architecture.

### A.1 Interface characteristics classifications

When a system is partitioned, the partition interface should be designed to meet the performance requirements of different layers. In addition to the compatibility requirements, it is important to characterize the requirements on data volume and transmission rate. The interface study is carried out to define layer interfaces that facilitate the interconnection and integration of the complete control system.

For the purpose of partitioning, interface signals are classified in the following examples as:

* Control and protection:
* Control commands (C): e.g., reference voltage (V\({}_{\text{ref}}\)), reference current (I\({}_{\text{ref}}\))
* Protection commands (P): variables generating protection actions, e.g., phase over-current
* Measurements (M): e.g., voltage, current, temperature
* Settings of the control system (S): e.g., maximum current (I\({}_{\text{max}}\)), maximum voltage (V\({}_{\text{max}}\))
* Start-up and self-check (T): e.g., gate driver ready
* System information (I): e.g., performance, system health, electronic prognostics

In principle, the format of the signals can be either analog or digital. Nevertheless, because a digital controller is assumed, the signals handled by the controller are digital. For the measurement signals, an A/D converter is directly coupled at the output of the measurement transducer converting the signals into digital type.

### A.2 Interface requirements case study

There is a wide variety of power electronics applications in utilities, for example: DVR, STATCOM, SSTS, battery energy storage system (BESS), unified power flow controller (UPFC), static VAR compensator (SVC), and similar applications called by different names. The examples provide the data capacity and data resolution requirements without specifying the medium of transporting the data between the layers. In general, there are multiple communication protocols that could meet the data communication requirements.

#### A.2.1 Dynamic voltage restorer

There are some interface requirements that are independent of the control algorithm. For example, the required speed in the response of the DVR determines the minimum requirements for the bandwidth of thevoltage controller loop. However, some characteristics, like the number of signals to be handled, depend on the control algorithm selected for the application.

The analysis is based on the system configuration shown in Figure 1. The four indicated interfaces are analyzed below. The details of the signals handled at each interface, denoted by the dotted lines, are shown in Table 1. For the calculation of the capacity requirements, the following considerations are necessary:

The channel bandwidth (CB) requirement for the digital type signal is:

\[CB=NK_{d}\ f_{sam}\ n_{x} \tag{1}\]

where

\[N\] is the number of signals

\[K_{d}\] is the ratio of sampling period to transmission time,

\[f_{sam}\] is the sampling frequency

\[n_{x}\] is the number of bits representing the variable \[x\]

The bandwidth (BW) requirement for an analog type signal is:

\[BW=N\frac{f_{sw}\ \boldsymbol{2}^{n_{d}}}{\pi} \tag{2}\]

where

\[N\] is the number of signals

\[f_{sw}\] is the switching frequency

\[n_{d}\] is the number of bits representing the analog signal

Analog signals that are not directly related to the switching frequency may permit a lower bandwidth; in the quantification presented below, these signals are called analog b type.

Bandwidth, or channel bandwidth, is a measure of available or consumed data communication resources of a transmission channel, in bits/s or kbits/s or Mbit/s. Channel capacity is the maximum number of bits or other information elements (measured in bits) that can be handled in a particular channel per unit time. The bandwidth or the channel bandwidth must be equal to or less than the channel capacity.

[MISSING_PAGE_FAIL:39]

[MISSING_PAGE_FAIL:40]

## A.2.2 Statcom

The STATCOM control diagram is shown in Figure A.2. In this example, a PEBB is based on an H-bridge. The controller configuration corresponds to a general-purpose regulator with the specific control actions defined at the system controller layer. Those specific characteristics also will define the required measurements that need to be processed at the system controller. The load controller working principle is based on the general guidelines presented in Daeler et al. [1], and the H-bridge configuration for a STATCOM was described in Liang et al. [2].

The number of H-bridge blocks connected in series to achieve the desired final voltage of the STATCOM varies according to the voltage at the connection point. In the case under analysis, sixteen H-bridges are connected in series in each of the three phases. The calculation of the different interface capacities was done using the same parameters as in A.2.1.

The number of H-bridge blocks connected in series to achieve the desired final voltage of the STATCOM varies according to the voltage at the connection point. In the case under analysis, sixteen H-bridges are connected in series in each of the three phases. The calculation of the different interface capacities was done using the same parameters as in A.2.1.

Figure A.2.2. - STATCOM control system and interfaces

### A.2.3 Solid State Transfer Switch (SSTS)

Figure A.3 shows the simplified block diagram of an SSTS configuration (see Scwartzenberg et al. [2]). In this case, the power cell subsystem should be able to isolate the voltage source from the load. Therefore, the basic switch-cell is different from the previously analyzed voltage source-based configurations. The switch operation also is different since the duty cycle has only two possible values: zero and one. In this way no pulse width modulator (PWM) signal is required. The number of branches, usually two, depends on how many sources the system relies on for improving the availability. The required local control functions are relatively simple once the system controller has made the decision for line connection/disconnection and is reflected in a reduced set of functions at lower control layers. Although the sampling frequency requirements are not high, 40 kHz was used as in the other examples above.

### A.3 Analysis of results

The calculation for the three given examples was done in the same way as shown in Table A.1. Because the H-bridge-based STATCOM uses a large number of H-bridges per phase, first the calculation was done considering only one H-bridge in each phase. These results for the total interface capacity requirements are

Figure A.3: Transfer switch control system and interfaces

[MISSING_PAGE_FAIL:43]

[MISSING_PAGE_FAIL:44]

[MISSING_PAGE_FAIL:45]

IEEE Stid 1676-2010 IEEE Guide for Control Architecture for High Power Electronics (1 MW and Greater) Used in Electric Power Transmission and Distribution Systems

## Annex B

(informative)

## Bibliography

[B1] Celanovic, I., "A Distributed Digital Controller for Power Electronics Systems," Master Science Thesis, Virginia Polytechnic Institute and State University, 2000.

[B2] Celanovic I., et al., "A new control architecture for future distributed power electronics systems," Power Electronics Specialists Conference (PESC), Vol. 1, pp. 113-118, 2000.

[B3] Chung, Y-H., "Medium Voltage Hybrid Transfer Switch," IEEE Power Engineering Society Winter Meeting, Vol. 2, pp. 1158 -1163, 2002.

[B4] Daeler, P., et al., "Power Quality Devices Improve Manufacturing Process Stability," _ABB Review_, pp. 62-68, January 2001.

[B5] Ericsen, T., and Tucker, A., "Power Electronics Building Blocks and Potential Power Modulator Applications," IEEE Conference Record of the 23rd International Power Modulator Symposium, New York, pp. 12-15, 1998.

[B6] Ginn III, H. L., and Chen, G., "Flexible Active Compensator Control for Variable Compensation Objectives," _IEEE Transactions on Power Electronics_, Vol. 23, No. 6, pp. 2931-2941, November 2008.

[B7] Hanson, D., "A transmission SVC for National Grid Company incorporating a 75 MVAR STATCOM," Flexible AC Transmission Systems - The FACTS (Ref. No. 1998/500), IEEE Colloquium, pp. 5/1 -5/8, 1998.

[B8] Hingorani, N., and Gyugyi, L., "Understanding FACTS: Concepts and Technology of Flexible AC Transmission Systems," IEEE Press, Piscataway, NJ, 2000.

[B9] IEC 61000 (all parts): Electromagnetic compatibility (EMC).

[B10] IEC 61850, Communication Networks and Systems in Substations.

[B11] IEEE Std 1547.3tm-2007, IEEE Guide for Monitoring, Information Exchange, and Control of Distributed Resources Interconnected with Electric Power Systems.

[B12] IEEE Std 1588tm-2008, IEEE Standard for a Precision Clock Synchronization Protocol for Networked Measurement and Control Systems.

[B13] IEEE Std 1590tm-2009, IEEE Recommended Practice for the Electrical Protection of Communication Facilities Serving Electric Supply Locations Using Optical Fiber Systems.

[B14] IEEE Std 1590tm-2003, IEEE Recommended Practice for the Electrical Protection of Optical Fiber Communication Facilities Serving, or Connected to, Electrical Supply Locations.

[B15] IEEE Std 1613tm-2003, IEEE Standard for Environmental and Testing Requirements for Communications Networking Devices in Electric Power Substations.

[B16] IEEE Std 1662tm-2008, IEEE Guide for the Design and Application of Power Electronics in Electrical Power Systems on Ships.

[B17] IEEE Std C37.111tm-1999, IEEE Standard Common Format for Transient Data Exchange (COMTRADE) for Power Systems.

[B18] IEEE Std C37.115tm-2003, IEEE Standard Test Methods for Use in the Evaluation of Message Communications Between Intelligent Electronic Devices in an Integrated Substation Protection, Control and Data Acquisition System.

[B19] Liang, Y., and Nwankpa, C., "A new type of STATCOM based on cascading voltage source inverters with phase-shifted unipolar SPWM," Industry Applications Conference, Thirty-Third IAS Annual Meeting, Vol. 2, pp. 1447-1453, 1998.

[B20] MIL-STD-464: Electromagnetic Environmental Effects Requirements for Systems.

[B21] PES Std PC37.239, Standard Common Format for Event Data Exchange (COMFEDE) for Power Systems.

[B22] Scwartzenberg, J., and DeDoncker, R., "15 kV Medium Voltage Transfer Switch," IEEE Industry Applications Conference, Thirtieth IAS Annual Meeting, Vol. 3, pp. 2515 -2520, 1995.

[B23] Vilathgamuwa, M., et al. "Control of Energy Optimized Dynamic Voltage Restorer," Proc. of IECON '99, Vol. 2, pp. 873-878, 1999.

[B24] Wang, F., Rosado, S., and Boroyevich, D., "Open Modular Power Electronics Building Blocks for Utility Power System Controller Applications," IEEE Power Electronics Specialist Conference, Vol. 4, pp. 1792 - 1797, June 2003.

[B25] Zhan, C., et al., "Dynamic Voltage Restorer Based on Voltage Space Vector PWM Control," IEEE Trans. On Industry Applications, Vol. 37, No. 6, Nov/Dec. 2001.