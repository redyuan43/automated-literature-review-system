

IBM T J Watson Research Center


{ruchir. kung}@us.ibm.com

## 1 Introduction

Although technology has been in the driving seat of the semiconductor industry juggernaut, most experts agree that it is running out of gas. A big question going into the next wave of SoCs and high performance designs is - do we really need 22nm? [6] It is a very fair question to ask that why do we need 22nm or beyond when it doesn't buy much performance any more and has tremendous headaches associated with it in terms of managing variability and power issues. In addition, the cost of doing the designs in these advanced technologies has been going up tremendously as well, with figures of $100 million or above becoming common place for designing advanced high performance semi-custom SoCs. Due to these issues and cost pressures, the design domain and market is bifurcating into: those who must have 22nm vs those who are happy staying back to older technology nodes [4]. In the design domain, productivity has been a major driver for a long time in the cost-sensitive ASIC designs, however, with technology complexity of 45nm and beyond, it has become a major driving force in high performance design segment as well. Due to this fundamental change in the cost equation, automated synthesis techniques have been gaining ground on manual and cost intensive (although one can argue, higher quality) custom techniques.

The push towards system level performance with multiple lower performance cores (Figure 1) as opposed to single high performance core is also making the pursuit of frequency at any cost meaningless. Synthesis vs Custom has traditionally been a lively debate in microprocessor companies but now it is becoming more widespread with the desire of fabless companies to more fully utilize the technology node in order to compete with integrated design and manufacturing houses by utilizing more custom

Figure 1: Multi-core progression - IBM processorstechniques. This is a critical juncture for design automation community as raw technology is no longer driving the system performance which is pushing design and design automation techniques into the driver seat.

## 2 Productivity Challenge

The technology challenges associated with 45/32 nm and beyond have been discussed widely in many comprehensive papers and talks [9][10][11][12][13][14]. This paper will not focus on these traditional challenges such as: power, variability, and performance [15][16][17][18]. Instead, we will focus on some of the core challenges associated with the 22nm designs in order to enable productivity of semi-custom high performance SoCs and with an eye towards future, we will talk about 3D as a major driver of how designs will be built in the future. It is clear that for high-performance SoC and microprocessors, we cannot afford to build things the way we have been as it has been a costly endeavor. Low end designs want more customization to move up and high end designs want more automation to be efficient. Practically speaking, our basic challenges in an highly productive but high volume world remain the same: synthesis, timing, placement, routing, congestion, checking etc. Individual segments of design automation research community have done a very good job at driving innovation in placement and now routing; in synthesis; and in timing. However, the bottleneck lies at their intersection: building things with right timing, that have the desired placement and correct routability. Current status in a highly automated synthesis place and route methodology is that: we may be ok for 500MHz but we are broken for GHz performance; we may be ok for Watts but broken for mWatts.

Figure 2 gives a pictorial depiction of how today's high performance SoCs and microprocessor resource demands ramp up over time. Roughly speaking, there are four major pieces to the design: Concept phase in which the design concept comes together and is mainly the domain of high level architecture and micro-architecture; High Level Design phase which is mainly when RTL description of the logic in terms of interfaces comes together. The detailed logic description is still missing and is put in place in the "implementation phase" that follows. In addition, high level design ensures the readiness of entire tools, technology, models infrastructure and resources to get ready for the major rampup in terms of resources to get ready to implement the SoC/Microprocessor; the implementation phase is where the detailed logic and physical design of the chip comes together and is the most resource intensive phase of the design which has been a major bottleneck in the increased productivity of the high-end designs; and the final phase "Release" basically ensured the sanity of all the design data from electrical, test, and manufacturing point of view. Also, all these phases are being carried out in globally distributed design teams and need precise direction and coordination. All tools and methodology need to be ready at start of implementation. Design is hierarchically partitioned to enable efficient parallel team design. There are 100s of macros, 10s of units in concurrent design. Large tool teams are put in place to support - libraries, chip integration, extraction, timing, analysis (power, thermal, noise), checking etc. As illustrated in Figure 2, the overall resources are a significant challenge and this goes back to the basic issues in design closure and the resources required to address them in 22nm and beyond as the demands of technology and design rules especially as they relate to routing become ever more complicated.

The main motivation to drive towards 22nm technology is either density, or performance. Routing has become a major challenge with smaller geometries and if we have to spread logic more just to route, it raises an interesting question - should we move to 22nm? Timing and routing are at crossroads with each other. A major dilemma is - timing wants gates closer - routing wants them spread. Whether designs will move to 22nm or not to a large extent also depends on the productivity. If the design costs are not contained, most of the designs except a select few with very high volumes will be unable to afford 22nm. To address a major bottleneck in productivity, as illustrated by Figure 2, we must holistically address our base implementation issues which lie at the intersection of synthesis, placement, timing, routing. In addition, we must move the manually intensive design portions to automation. Figure 3 illustrates one such opportunity to improve productivity where structured dataflow needs to be implemented in order to satisfy stringent dataflow requirements of high performance SoCs. Overall, the productivity crunch represents a golden opportunity for design automation to have real practical impact on the industry.

Figure 2: Productivity of high performance SoCs

[MISSING_PAGE_FAIL:3]

Therefore, before any 3D designs begin, all the new 3D issues need to be resolved and most CAD tools need upgrading to be made 3D aware.

In general, 2D power distribution is highly varied and has core regions at peak capacity and other regions are underutilized; multiple power domains are required Vdd, Vcs, Vdr, Vanalog, Vio etc. ; horizontal distribution adds large IR drop; and power increase from IR drop \(\propto\) to \(\Delta\mathbf{V^{3}}\). Overall, due to die stacking, 3D power densities will be significantly larger. The non-uniform power could exacerbate current irregularity and power transport through intermediate stacks can add additional IR drop which may force tiling around power TSVs as illustrated in Figure 8.

There is a strong debate in the industry on what is the right level of partitioning for 3D, i.e., from a free for all 3D gate level place and route to small macro level placement in 3D to large units 3D floorplanning to core/memory partitioning in 3D. Figure 9 illustrates this tradeoff. The analysis in Figure 9 does not account for area for power TSVs, which is ~5-10% of total area, and which depends on IR drops and EM targets.

It is well known that overall chip performance is generally limited by global paths at core/unit level. Intuitively, it is clear that to impact global wire length improvement AND facilitate reuse, 3D partitioning is most productive at core level and above, i.e., multiple cores at different layers, or memory at a different layer etc. Reasonable partition granularity depends strongly on via size as well and is illustrated in detail in Figure 9. If the via size is relatively larger (good for reliability), it moves the optimal partitioning towards a coarser level as opposed to when via size is small, finer partitioning level may be acceptable but is not desirable for reasons such as overall design efficiency or reuse.

Also, it is essential to study 2D, 3D options very early in the design cycle. Early analysis tools should allow study of tradeoffs between layer count, partitioning options, floorplans, power density, performance and cost. This requires strong link between architectural level analysis tools and 3D physical planning tools. Increased circuit density of 3D IC leads to increased power density and that requires development of "thermally aware" design tools which can partition design to place highly loaded, active components in layer close to the heat-sink. Overall, as

Figure 8: Possible tiling of power TSVs in 3D

Figure 6: 2D & 3D wire length trend

Figure 7: Power, clock distribution, chip IO in 3D

Figure 9: TSV size vs partitioning level tradeoff

stated earlier, it is desirable to have partitioning that basically keeps the high value core intact for reuse in 2D systems as well.

## 4 Conclusion

An interesting question is: Will 22nm a be catch-22? If we don't take advantage of the opportunity, it will be a catch-22 for most. Productivity is a major driver with out of control design cost and we must focus on containing these costs and high productivity design closure tools that move us from 500Mhz to GHz domain and Watts to mW domain. 3D provides an exciting opportunity for certain segments, however, many design and CAD challenges remain. The future could be exciting and the opportunity is unprecedented due to confluence of various factors including current financial crisis. What we do with this is in our hands.

